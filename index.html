<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minecraft Bank - Smart ID</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'mc': ['"VT323"', 'monospace'],
                    },
                    colors: {
                        mc: {
                            bg: '#111111',
                            panel: '#C6C6C6',
                            red: '#be0000',
                            dark: '#373737',
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #1a1a1a;
            background-image: radial-gradient(#2c2c2c 15%, transparent 16%), radial-gradient(#2c2c2c 15%, transparent 16%);
            background-size: 60px 60px;
            background-position: 0 0, 30px 30px;
            font-family: 'VT323', monospace;
            image-rendering: pixelated;
        }

        .mc-border {
            border-top: 4px solid #ffffff;
            border-left: 4px solid #ffffff;
            border-right: 4px solid #555555;
            border-bottom: 4px solid #555555;
            background-color: #C6C6C6;
            color: #212121;
        }
        
        .mc-border-red {
            border-top: 4px solid #ff6b6b;
            border-left: 4px solid #ff6b6b;
            border-right: 4px solid #550000;
            border-bottom: 4px solid #550000;
            background-color: #C6C6C6;
        }

        .mc-inset {
            border-top: 3px solid #373737;
            border-left: 3px solid #373737;
            border-right: 3px solid #ffffff;
            border-bottom: 3px solid #ffffff;
            background-color: #8b8b8b;
        }

        .mc-btn {
            background-color: #999999;
            border-top: 3px solid #ffffff;
            border-left: 3px solid #ffffff;
            border-right: 3px solid #373737;
            border-bottom: 3px solid #373737;
            cursor: pointer;
            transition: all 0.1s;
        }
        .mc-btn:active {
            border-top: 3px solid #373737;
            border-left: 3px solid #373737;
            border-right: 3px solid #ffffff;
            border-bottom: 3px solid #ffffff;
            background-color: #777777;
        }

        .mc-btn-red {
            background-color: #c0392b;
            color: white;
            border-color: #e74c3c #7f0000 #7f0000 #e74c3c;
        }
        .mc-btn-red:active {
            background-color: #a93226;
            border-color: #7f0000 #e74c3c #e74c3c #7f0000;
        }

        .mc-btn-green {
            background-color: #27ae60;
            color: white;
            border-color: #2ecc71 #145a32 #145a32 #2ecc71;
        }

        .modal-overlay {
            background-color: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(2px);
        }

        ::-webkit-scrollbar { width: 12px; }
        ::-webkit-scrollbar-track { background: #212121; }
        ::-webkit-scrollbar-thumb { background: #C6C6C6; border: 2px solid #212121; }

        .frozen-overlay {
            background: repeating-linear-gradient(
                45deg,
                rgba(0, 255, 255, 0.1),
                rgba(0, 255, 255, 0.1) 10px,
                rgba(0, 200, 255, 0.1) 10px,
                rgba(0, 200, 255, 0.1) 20px
            );
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <!-- Container -->
    <div id="app-container" class="w-full max-w-md transition-all duration-300 relative">
        
        <!-- HEADER -->
        <div class="text-center mb-6">
            <h1 class="text-5xl text-white drop-shadow-[4px_4px_0_rgba(0,0,0,1)] tracking-widest">
                <span class="text-[#3498db]">DIA</span>BANK
            </h1>
            <p id="app-subtitle" class="text-gray-400 text-xl mt-2">Server Economy v3.2</p>
        </div>

        <!-- NOTIFICATION TOAST -->
        <div id="toast" class="hidden fixed top-5 right-5 z-50 mc-border p-2 bg-[#1e1e1e] text-white border-2 border-white max-w-xs shadow-lg">
            <div class="flex items-center gap-2">
                <span id="toast-icon" class="text-yellow-400 font-bold">!</span>
                <span id="toast-msg">–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è</span>
            </div>
        </div>

        <!-- --- MODALS --- -->
        
        <!-- Balance Modal -->
        <div id="balance-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center modal-overlay">
            <div class="mc-border-red p-1 shadow-2xl w-80">
                <div class="bg-[#C6C6C6] p-4 flex flex-col gap-4">
                    <h3 class="text-2xl font-bold text-[#373737] text-center">–ó–ú–Ü–ù–ê –ë–ê–õ–ê–ù–°–£</h3>
                    <p class="text-center text-lg" id="balance-modal-user">User: ???</p>
                    <input type="number" id="admin-amount-input" class="mc-inset w-full p-2 text-2xl text-white outline-none" placeholder="0">
                    <div class="flex gap-2">
                        <button onclick="confirmBalanceChange(1)" class="mc-btn-green w-1/2 py-2 text-xl font-bold border-2">+ –î–û–î–ê–¢–ò</button>
                        <button onclick="confirmBalanceChange(-1)" class="mc-btn-red w-1/2 py-2 text-xl font-bold border-2">- –ó–ù–Ø–¢–ò</button>
                    </div>
                    <button onclick="closeModals()" class="mc-btn w-full py-1 text-lg font-bold">–°–ö–ê–°–£–í–ê–¢–ò</button>
                </div>
            </div>
        </div>

        <!-- Delete Modal -->
        <div id="delete-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center modal-overlay">
            <div class="mc-border-red p-1 shadow-2xl w-80">
                <div class="bg-[#C6C6C6] p-4 flex flex-col gap-4">
                    <h3 class="text-2xl font-bold text-red-900 text-center">‚ö†Ô∏è –£–í–ê–ì–ê ‚ö†Ô∏è</h3>
                    <p class="text-center text-xl leading-tight">–í–∏ —Ç–æ—á–Ω–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ–π –∞–∫–∞—É–Ω—Ç?</p>
                    <button onclick="confirmDeleteUser()" class="mc-btn-red w-full py-3 text-2xl font-bold border-2 shadow-lg">–¢–ê–ö, –í–ò–î–ê–õ–ò–¢–ò</button>
                    <button onclick="closeModals()" class="mc-btn w-full py-2 text-xl font-bold">–ù–Ü, –ù–ê–ó–ê–î</button>
                </div>
            </div>
        </div>

        <!-- --- SCREENS --- -->

        <!-- AUTH -->
        <div id="auth-screen" class="mc-border p-1 shadow-[8px_8px_0_rgba(0,0,0,0.5)]">
            <div class="bg-[#C6C6C6] p-6 flex flex-col gap-4">
                <div class="text-center mb-2">
                    <h2 class="text-3xl font-bold text-[#373737]">–ê–í–¢–û–†–ò–ó–ê–¶–Ü–Ø</h2>
                </div>
                <div class="flex flex-col gap-1">
                    <label class="text-xl text-[#373737]">–ù—ñ–∫–Ω–µ–π–º:</label>
                    <input type="text" id="username-input" class="mc-inset w-full p-3 text-2xl text-white placeholder-gray-300 outline-none font-mc" placeholder="Steve">
                </div>
                <div class="flex flex-col gap-1">
                    <label class="text-xl text-[#373737]">–ü–∞—Ä–æ–ª—å:</label>
                    <input type="password" id="password-input" class="mc-inset w-full p-3 text-2xl text-white placeholder-gray-300 outline-none font-mc" placeholder="******">
                </div>
                <button onclick="handleAuth()" class="mc-btn w-full p-3 text-2xl font-bold text-[#373737] hover:text-black mt-4 border-2">
                    –í–•–Ü–î / –†–ï–Ñ–°–¢–†–ê–¶–Ü–Ø
                </button>
            </div>
        </div>

        <!-- DASHBOARD -->
        <div id="dashboard-screen" class="hidden flex flex-col gap-6">
            <div class="mc-border p-1 shadow-[8px_8px_0_rgba(0,0,0,0.5)]">
                <div class="bg-[#C6C6C6] p-4 flex justify-between items-center relative overflow-hidden">
                    <div id="frozen-badge" class="hidden absolute top-0 right-0 bg-blue-500 text-white text-xs px-2 py-1 font-bold z-10">FROZEN</div>
                    <div>
                        <h3 id="display-username" class="text-3xl font-bold text-[#373737]">Player</h3>
                        <div class="flex items-center gap-2 mt-1">
                            <span class="text-lg text-gray-600">ID:</span>
                            <span id="display-wallet-id" class="bg-[#373737] text-white px-2 py-0.5 text-lg font-mono tracking-wider">#LOADING</span>
                        </div>
                    </div>
                    <button onclick="logout()" class="mc-btn px-4 py-2 text-xl text-red-900 font-bold hover:bg-red-300">–í–ò–ô–¢–ò</button>
                </div>
            </div>

            <div class="mc-border p-1 shadow-[8px_8px_0_rgba(0,0,0,0.5)]">
                <div class="bg-[#C6C6C6] p-6 flex items-center justify-between">
                    <div>
                        <p class="text-xl text-[#373737] uppercase font-bold">–ë–∞–ª–∞–Ω—Å</p>
                        <p id="display-balance" class="text-6xl font-bold text-[#212121] mt-2">0</p>
                    </div>
                    <div class="text-6xl">üíé</div>
                </div>
            </div>

            <div class="mc-border p-1 shadow-[8px_8px_0_rgba(0,0,0,0.5)]">
                <div class="bg-[#C6C6C6] p-4">
                    <h3 class="text-2xl font-bold text-[#373737] mb-4 border-b-2 border-[#7f8c8d] pb-1">–ü–ï–†–ï–ö–ê–ó</h3>
                    <div class="space-y-4">
                        <div>
                            <!-- –û–Ω–æ–≤–ª–µ–Ω–∏–π Placeholder -->
                            <input type="text" id="transfer-target" class="mc-inset w-full p-2 text-xl text-white placeholder-gray-300 outline-none" placeholder="ID (–Ω–∞–ø—Ä. #DIA-1234 –∞–±–æ 1234)">
                        </div>
                        <div>
                            <input type="number" id="transfer-amount" class="mc-inset w-full p-2 text-xl text-white placeholder-gray-300 outline-none" placeholder="–ö—ñ–ª—å–∫—ñ—Å—Ç—å">
                        </div>
                        <button id="transfer-btn" onclick="makeTransfer()" class="mc-btn w-full py-3 text-2xl font-bold text-[#1E8449] mt-2 flex justify-center items-center gap-2 hover:bg-[#aab7b8]">
                            <span>–ù–ê–î–Ü–°–õ–ê–¢–ò</span> <span>üíé</span>
                        </button>
                    </div>
                </div>
            </div>

            <div class="mc-border p-1 shadow-[8px_8px_0_rgba(0,0,0,0.5)]">
                <div class="bg-[#C6C6C6] p-4 min-h-[150px]">
                    <h3 class="text-2xl font-bold text-[#373737] mb-2 border-b-2 border-[#7f8c8d] pb-1">–Ü–°–¢–û–†–Ü–Ø</h3>
                    <ul id="history-list" class="flex flex-col gap-2 max-h-[150px] overflow-y-auto pr-1"></ul>
                </div>
            </div>
        </div>

        <!-- ADMIN PANEL -->
        <div id="admin-screen" class="hidden w-full">
            <div class="mc-border-red p-1 shadow-[8px_8px_0_rgba(0,0,0,0.5)]">
                <div class="bg-[#C6C6C6] p-4">
                    <div class="flex justify-between items-center mb-4 border-b-4 border-red-800 pb-2">
                        <h2 class="text-3xl font-bold text-red-900">OPERATOR PANEL</h2>
                        <button onclick="logout()" class="mc-btn px-4 py-1 text-lg font-bold">LOGOUT</button>
                    </div>
                    <div class="flex flex-col gap-4 max-h-[60vh] overflow-y-auto pr-2" id="admin-user-list"></div>
                </div>
            </div>
        </div>

    </div>

    <!-- LOGIC -->
    <script>
        const DB_KEY = 'mc_bank_users_v3';
        const ADMIN_CREDS = { user: 'ADMIN', pass: '09800989' };
        
        let currentUser = null;
        let isAdmin = false;
        let targetUserId = null; 

        // --- CORE ---
        function getUsersDB() {
            const data = localStorage.getItem(DB_KEY);
            return data ? JSON.parse(data) : {};
        }

        function saveUsersDB(db) {
            localStorage.setItem(DB_KEY, JSON.stringify(db));
        }

        function generateWalletId(db) {
            let id;
            do {
                const num = Math.floor(1000 + Math.random() * 9000);
                id = `#DIA-${num}`;
            } while (Object.values(db).find(u => u.walletId === id));
            return id;
        }

        function showToast(msg, isError = false) {
            const toast = document.getElementById('toast');
            const toastMsg = document.getElementById('toast-msg');
            const toastIcon = document.getElementById('toast-icon');
            
            toast.className = `fixed top-5 right-5 z-50 mc-border p-2 border-2 max-w-xs shadow-lg transition-opacity duration-300 ${isError ? 'bg-[#370000] border-red-500 text-red-100' : 'bg-[#1e1e1e] border-white text-white'}`;
            toastMsg.innerText = msg;
            toastIcon.innerText = isError ? "‚úï" : "!";
            toast.classList.remove('hidden');
            setTimeout(() => { toast.classList.add('hidden'); }, 3000);
        }

        // --- AUTH ---
        function handleAuth() {
            const username = document.getElementById('username-input').value.trim();
            const password = document.getElementById('password-input').value.trim();

            if (!username || !password) { showToast("–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è!", true); return; }

            // Admin Check
            if (username === ADMIN_CREDS.user) {
                if (password === ADMIN_CREDS.pass) {
                    isAdmin = true;
                    currentUser = { username: 'ADMIN' };
                    showToast("Operator permissions granted.");
                    document.getElementById('app-subtitle').innerText = "OP MODE ENABLED";
                    document.getElementById('app-subtitle').classList.add("text-red-500", "font-bold");
                    switchScreen('admin');
                    renderAdminPanel();
                } else {
                    showToast("ACCESS DENIED", true);
                }
                return;
            }

            // User Check
            const db = getUsersDB();
            let existingUserKey = Object.keys(db).find(k => db[k].username.toLowerCase() === username.toLowerCase());

            if (existingUserKey) {
                const storedUser = db[existingUserKey];
                if (storedUser.password === password) {
                    isAdmin = false;
                    currentUser = storedUser;
                    showToast(`–í—ñ—Ç–∞—î–º–æ, ${currentUser.username}!`);
                    switchScreen('dashboard');
                    updateDashboard();
                } else {
                    showToast("–ù–µ–≤—ñ—Ä–Ω–∏–π –ø–∞—Ä–æ–ª—å!", true);
                }
            } else {
                const newWalletId = generateWalletId(db);
                const newUser = {
                    username: username,
                    password: password,
                    walletId: newWalletId,
                    balance: 64, 
                    isFrozen: false, 
                    history: []
                };
                db[newWalletId] = newUser;
                saveUsersDB(db);
                isAdmin = false;
                currentUser = newUser;
                showToast(`–°—Ç–≤–æ—Ä–µ–Ω–æ: ${newWalletId}`);
                switchScreen('dashboard');
                updateDashboard();
            }
            
            document.getElementById('username-input').value = '';
            document.getElementById('password-input').value = '';
        }

        function logout() {
            currentUser = null;
            isAdmin = false;
            switchScreen('auth');
            document.getElementById('app-subtitle').innerText = "Server Economy v3.2";
            document.getElementById('app-subtitle').classList.remove("text-red-500", "font-bold");
            showToast("–í–∏ –≤–∏–π—à–ª–∏.");
        }

        function switchScreen(screen) {
            document.getElementById('auth-screen').classList.add('hidden');
            document.getElementById('dashboard-screen').classList.add('hidden');
            document.getElementById('admin-screen').classList.add('hidden');
            document.getElementById('app-container').classList.remove('max-w-4xl'); 

            if (screen === 'auth') {
                document.getElementById('auth-screen').classList.remove('hidden');
            } else if (screen === 'dashboard') {
                document.getElementById('dashboard-screen').classList.remove('hidden');
            } else if (screen === 'admin') {
                document.getElementById('admin-screen').classList.remove('hidden');
                document.getElementById('app-container').classList.add('max-w-4xl'); 
            }
        }

        // --- BANK LOGIC ---
        function updateDashboard() {
            if (!currentUser || isAdmin) return;
            const db = getUsersDB();
            currentUser = db[currentUser.walletId]; 
            if(!currentUser) { logout(); return; } 

            document.getElementById('display-username').innerText = currentUser.username;
            document.getElementById('display-wallet-id').innerText = currentUser.walletId;
            document.getElementById('display-balance').innerText = currentUser.balance;

            const badge = document.getElementById('frozen-badge');
            const transferBtn = document.getElementById('transfer-btn');
            
            if (currentUser.isFrozen) {
                badge.classList.remove('hidden');
                transferBtn.classList.add('opacity-50', 'cursor-not-allowed');
                transferBtn.innerText = "–†–ê–•–£–ù–û–ö –ó–ê–ú–û–†–û–ñ–ï–ù–û ‚ùÑÔ∏è";
            } else {
                badge.classList.add('hidden');
                transferBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                transferBtn.innerHTML = "<span>–ù–ê–î–Ü–°–õ–ê–¢–ò</span> <span>üíé</span>";
            }

            const list = document.getElementById('history-list');
            list.innerHTML = '';
            const hist = [...currentUser.history].reverse();
            if(hist.length === 0) { list.innerHTML = '<li class="text-center italic opacity-50">–ü—É—Å—Ç–æ</li>'; }
            
            hist.forEach(tx => {
                const isInc = tx.type === 'in';
                const li = document.createElement('li');
                li.className = `${isInc ? 'bg-[#99c2a2]' : 'bg-[#c29999]'} p-2 flex justify-between mc-border border-0`;
                li.innerHTML = `
                    <span class="font-bold text-sm">${isInc ? 'From: '+tx.from : 'To: '+tx.to}</span>
                    <span class="font-bold ${isInc ? 'text-green-900' : 'text-red-900'}">${isInc?'+':'-'}${tx.amount}</span>
                `;
                list.appendChild(li);
            });
        }

        function makeTransfer() {
            if (currentUser.isFrozen) { showToast("–†–∞—Ö—É–Ω–æ–∫ –∑–∞–º–æ—Ä–æ–∂–µ–Ω–æ! –ó–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –∞–¥–º—ñ–Ω–∞.", true); return; }
            
            // --- –û–ù–û–í–õ–ï–ù–ê –õ–û–ì–Ü–ö–ê –í–í–û–î–£ ID ---
            let rawInput = document.getElementById('transfer-target').value.trim().toUpperCase();
            let targetId = rawInput;

            // 1. –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤—ñ–≤ —Ç—ñ–ª—å–∫–∏ —Ü–∏—Ñ—Ä–∏ (–Ω–∞–ø—Ä. "4412")
            if (/^\d+$/.test(rawInput)) {
                targetId = `#DIA-${rawInput}`;
            } 
            // 2. –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤—ñ–≤ "DIA-4412" –±–µ–∑ —Ä–µ—à—ñ—Ç–∫–∏
            else if (rawInput.startsWith('DIA-')) {
                targetId = `#${rawInput}`;
            }
            // --------------------------------

            const amount = parseInt(document.getElementById('transfer-amount').value);

            if (!targetId || isNaN(amount)) { showToast("–ü–æ–º–∏–ª–∫–∞ –≤–≤–æ–¥—É", true); return; }
            if (amount <= 0) { showToast("–°—É–º–∞ –º–∞—î –±—É—Ç–∏ > 0", true); return; }
            if (amount > currentUser.balance) { showToast("–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –∫–æ—à—Ç—ñ–≤", true); return; }
            if (targetId === currentUser.walletId) { showToast("–ù–µ –º–æ–∂–Ω–∞ —Å–æ–±—ñ", true); return; }

            const db = getUsersDB();
            if (!db[targetId]) { 
                showToast(`–ì—Ä–∞–≤—Ü—è –∑ ID ${targetId} –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ`, true); 
                return; 
            }

            const sender = db[currentUser.walletId];
            const recipient = db[targetId];

            sender.balance -= amount;
            sender.history.push({ type: 'out', amount, to: recipient.username, date: new Date().toISOString() });
            
            recipient.balance += amount;
            recipient.history.push({ type: 'in', amount, from: sender.username, date: new Date().toISOString() });

            saveUsersDB(db);
            showToast(`–£—Å–ø—ñ—à–Ω–æ! –ü–µ—Ä–µ–∫–∞–∑–∞–Ω–æ ${recipient.username}`);
            document.getElementById('transfer-amount').value = '';
            document.getElementById('transfer-target').value = '';
            updateDashboard();
        }

        // --- ADMIN HELPERS ---
        function openBalanceModal(id) {
            targetUserId = id;
            const db = getUsersDB();
            const u = db[id];
            document.getElementById('balance-modal-user').innerText = `–ì—Ä–∞–≤–µ—Ü—å: ${u.username} (${u.balance} üíé)`;
            document.getElementById('admin-amount-input').value = '';
            document.getElementById('balance-modal').classList.remove('hidden');
        }

        function openDeleteModal(id) {
            targetUserId = id;
            document.getElementById('delete-modal').classList.remove('hidden');
        }

        function closeModals() {
            document.getElementById('balance-modal').classList.add('hidden');
            document.getElementById('delete-modal').classList.add('hidden');
            targetUserId = null;
        }

        function confirmBalanceChange(multiplier) {
            const amountInput = document.getElementById('admin-amount-input');
            const val = parseInt(amountInput.value);

            if (isNaN(val) || val <= 0) { showToast("–í–≤–µ–¥—ñ—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–µ —á–∏—Å–ª–æ!", true); return; }

            const db = getUsersDB();
            if (db[targetUserId]) {
                const change = val * multiplier;
                db[targetUserId].balance += change;
                if(db[targetUserId].balance < 0) db[targetUserId].balance = 0;
                
                db[targetUserId].history.push({
                    type: change >= 0 ? 'in' : 'out',
                    amount: Math.abs(change),
                    from: 'ADMIN_OP',
                    to: 'ADMIN_OP',
                    date: new Date().toISOString()
                });
                
                saveUsersDB(db);
                showToast(`–ë–∞–ª–∞–Ω—Å –∑–º—ñ–Ω–µ–Ω–æ!`);
                closeModals();
                renderAdminPanel();
            }
        }

        function confirmDeleteUser() {
            const db = getUsersDB();
            if (db[targetUserId]) {
                delete db[targetUserId];
                saveUsersDB(db);
                showToast("–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤–∏–¥–∞–ª–µ–Ω–æ! üß®");
                closeModals();
                renderAdminPanel();
            }
        }

        function renderAdminPanel() {
            const list = document.getElementById('admin-user-list');
            list.innerHTML = '';
            const db = getUsersDB();
            const users = Object.values(db);

            if (users.length === 0) {
                list.innerHTML = '<div class="text-center text-xl text-gray-600">No users found.</div>';
                return;
            }

            users.forEach(u => {
                const div = document.createElement('div');
                div.className = `mc-inset p-3 flex flex-col md:flex-row justify-between items-center gap-4 ${u.isFrozen ? 'frozen-overlay' : 'bg-[#8b8b8b]'}`;
                div.innerHTML = `
                    <div class="flex flex-col min-w-[150px]">
                        <span class="text-2xl font-bold text-white">${u.username}</span>
                        <span class="text-gray-300 font-mono text-sm">${u.walletId}</span>
                        <span class="text-xs text-gray-400">Pass: ${u.password}</span>
                    </div>
                    <div class="flex items-center gap-2 bg-[#373737] p-2 rounded mc-border border-0">
                        <span class="text-yellow-400 text-xl">üíé</span>
                        <span class="text-2xl text-white font-mono w-[80px] text-right">${u.balance}</span>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="openBalanceModal('${u.walletId}')" class="mc-btn px-3 py-1 font-bold bg-[#3498db] text-white border-[#2980b9]">EDIT üíé</button>
                        <button onclick="adminToggleFreeze('${u.walletId}')" class="mc-btn px-3 py-1 font-bold ${u.isFrozen ? 'text-blue-200 bg-blue-800' : 'text-gray-700'}">
                            ${u.isFrozen ? '‚ùÑÔ∏è UNFREEZE' : '‚ùÑÔ∏è FREEZE'}
                        </button>
                        <button onclick="openDeleteModal('${u.walletId}')" class="mc-btn mc-btn-red px-3 py-1 font-bold">üß®</button>
                    </div>
                `;
                list.appendChild(div);
            });
        }

        function adminToggleFreeze(id) {
            const db = getUsersDB();
            if (db[id]) {
                db[id].isFrozen = !db[id].isFrozen;
                saveUsersDB(db);
                renderAdminPanel();
                showToast(`–°—Ç–∞—Ç—É—Å –∑–∞–º–æ—Ä–æ–∑–∫–∏: ${db[id].isFrozen}`);
            }
        }
    </script>
</body>
</html>
